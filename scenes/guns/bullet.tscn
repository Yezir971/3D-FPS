[gd_scene load_steps=8 format=3 uid="uid://ksjfcbrsl2yp"]

[ext_resource type="Script" uid="uid://b2id07yd85omr" path="res://script/bullet.gd" id="1_irvph"]

[sub_resource type="BoxMesh" id="BoxMesh_kxps8"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_irvph"]
albedo_color = Color(0.730029, 0.29107, 0.149954, 1)
emission_enabled = true
emission = Color(0.97, 0.14938, 0.0582, 1)
emission_energy_multiplier = 5.0

[sub_resource type="BoxShape3D" id="BoxShape3D_irvph"]
size = Vector3(0.0687866, 0.0798187, 0.842529)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yrqc6"]
albedo_color = Color(1, 0.12, 0.12, 1)
emission_enabled = true
emission = Color(1, 0, 0, 1)
emission_energy_multiplier = 8.0

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_8iaf4"]
emission_shape_scale = Vector3(0, 0, 0)
direction = Vector3(0, 0, -1)
initial_velocity_min = 3.0
initial_velocity_max = 15.0

[sub_resource type="BoxMesh" id="BoxMesh_xljrc"]
size = Vector3(0.04, 0.04, 0.04)

[node name="Bullet" type="Node3D"]
script = ExtResource("1_irvph")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(0.00283952, 0, 0.0721638, 0, 0.0725991, 0, -0.838613, 0, 0.000244344, 0, 0, 0)
layers = 2
mesh = SubResource("BoxMesh_kxps8")
surface_material_override/0 = SubResource("StandardMaterial3D_irvph")

[node name="Timer" type="Timer" parent="."]
wait_time = 6.0
autostart = true

[node name="Area3D" type="Area3D" parent="." groups=["bullet_player"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000640869, -0.000450134, 0.00012207)
shape = SubResource("BoxShape3D_irvph")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(-0.999788, 0, -0.0206109, 0, 1, 0, 0.0206109, 0, -0.999788, 0, 0, 0.31344)
material_override = SubResource("StandardMaterial3D_yrqc6")
emitting = false
amount = 20
one_shot = true
explosiveness = 1.0
process_material = SubResource("ParticleProcessMaterial_8iaf4")
draw_pass_1 = SubResource("BoxMesh_xljrc")

[node name="RayCast3D" type="RayCast3D" parent="."]
target_position = Vector3(0, 0, 1)

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="area_entered" from="Area3D" to="." method="_on_area_3d_area_entered"]
